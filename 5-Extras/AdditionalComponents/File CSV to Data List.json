{"id":"11f1d47c-a580-40e9-b1cd-0316bcd951de","name":"File CSV to Data List","data":{"edges":[],"nodes":[{"data":{"type":"FileCSVComponent","node":{"template":{"_type":"Component","csv_file":{"trace_as_metadata":true,"file_path":"7f74f8cf-146a-4e04-b92a-cbb6fde84a75/NASA_Utterances_green.csv","fileTypes":["csv"],"list":false,"required":false,"placeholder":"","show":true,"value":"","name":"csv_file","display_name":"CSV File","advanced":false,"dynamic":false,"info":"Upload a CSV file to convert to a list of Data objects","title_case":false,"type":"file"},"code":{"type":"code","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"value":"from langflow.custom import Component\r\nfrom langflow.io import FileInput, Output\r\nfrom langflow.schema import Data\r\nfrom langflow.base.data.utils import TEXT_FILE_TYPES\r\nimport csv\r\nfrom pathlib import Path\r\n\r\nclass FileCSVComponent(Component):\r\n    display_name = \"File CSV to Data List\"\r\n    description = \"Load a CSV file and convert it to a list of Data objects\"\r\n    icon = \"file-spreadsheet\"\r\n\r\n    inputs = [\r\n        FileInput(\r\n            name=\"csv_file\",\r\n            display_name=\"CSV File\",\r\n            file_types=[\"csv\"],\r\n            info=\"Upload a CSV file to convert to a list of Data objects\",\r\n        ),\r\n    ]\r\n\r\n    outputs = [\r\n        Output(name=\"data_list\", display_name=\"Data List\", method=\"load_csv_to_data\"),\r\n    ]\r\n\r\n    def load_csv_to_data(self) -> list[Data]:\r\n        try:\r\n            if not self.csv_file:\r\n                raise ValueError(\"Please upload a CSV file to use this component.\")\r\n\r\n            resolved_path = self.resolve_path(self.csv_file)\r\n            file_path = Path(resolved_path)\r\n\r\n            if file_path.suffix.lower() != '.csv':\r\n                raise ValueError(\"The uploaded file must be a CSV file.\")\r\n\r\n            result = []\r\n            with open(file_path, 'r', newline='', encoding='utf-8') as csvfile:\r\n                csv_reader = csv.DictReader(csvfile)\r\n                for row in csv_reader:\r\n                    result.append(Data(data=row))\r\n\r\n            if not result:\r\n                self.status = \"The CSV file is empty.\"\r\n                return []\r\n\r\n            self.status = result\r\n            return result\r\n\r\n        except csv.Error as e:\r\n            error_message = f\"CSV parsing error: {str(e)}\"\r\n            self.status = error_message\r\n            return [Data(data={\"error\": error_message})]\r\n\r\n        except Exception as e:\r\n            error_message = f\"An error occurred: {str(e)}\"\r\n            self.status = error_message\r\n            return [Data(data={\"error\": error_message})]","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":true,"dynamic":true,"info":"","load_from_db":false,"title_case":false}},"description":"Load a CSV file and convert it to a list of Data objects","icon":"file-spreadsheet","base_classes":["Data"],"display_name":"File CSV to Data List","documentation":"","custom_fields":{},"output_types":[],"pinned":false,"conditional_paths":[],"frozen":false,"outputs":[{"types":["Data"],"selected":"Data","name":"data_list","display_name":"Data List","method":"load_csv_to_data","value":"__UNDEFINED__","cache":true}],"field_order":["csv_file"],"beta":false,"edited":true,"official":false},"id":"File-sXji9","description":"Load a CSV file and convert it to a list of Data objects","display_name":"File"},"id":"File-sXji9","position":{"x":0,"y":0},"type":"genericNode"}],"viewport":{"x":1,"y":1,"zoom":1}},"is_component":true}